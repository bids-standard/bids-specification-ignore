
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Appendix III: Hierarchical Event Descriptors &#8212; The Brain Imaging Data Standard</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../../_static/BIDS_logo.jpg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Appendix IV: Entity table" href="04-entity-table.html" />
    <link rel="prev" title="Appendix II: Licenses" href="02-licenses.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/BIDS_logo.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">The Brain Imaging Data Standard</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   The Brain Imaging Data Structure
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The BIDS Specification
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01-introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-common-principles.html">
   Common principles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03-modality-agnostic-files.html">
   Modality agnostic files
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04-modality-specific-files.html">
   Modality specific files
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/01-magnetic-resonance-imaging-data.html">
     Magnetic Resonance Imaging
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/02-magnetoencephalography.html">
     Magnetoencephalography
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/03-electroencephalography.html">
     Electroencephalography
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/04-intracranial-electroencephalography.html">
     Intracranial Electroencephalography
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/05-task-events.html">
     Task events
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/06-physiological-and-other-continuous-recordings.html">
     Physiological and other continuous recordings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/07-behavioral-experiments.html">
     Behavioral experiments (with no neural recordings)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/08-genetic-descriptor.html">
     Genetic Descriptor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/09-positron-emission-tomography.html">
     Positron Emission Tomography
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04-modality-specific-files/10-microscopy.html">
     Microscopy
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05-derivatives.html">
   Derivatives
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-derivatives/01-introduction.html">
     BIDS Derivatives
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-derivatives/02-common-data-types.html">
     Common data types and metadata
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05-derivatives/03-imaging.html">
     Imaging data types
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06-longitudinal-and-multi-site-studies.html">
   Longitudinal and multi-site studies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07-extensions.html">
   BIDS Extension Proposals
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../99-appendices.html">
   Appendices
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01-contributors.html">
     Appendix I: Contributors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02-licenses.html">
     Appendix II: Licenses
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Appendix III: Hierarchical Event Descriptors
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04-entity-table.html">
     Appendix IV: Entity table
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05-units.html">
     Appendix V: Units
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06-meg-file-formats.html">
     Appendix VI: MEG file formats
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07-meg-systems.html">
     Appendix VII: MEG systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="08-coordinate-systems.html">
     Appendix VIII: Coordinate systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="09-entities.html">
     Appendix IX: Entities
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="10-file-collections.html">
     Appendix X: File collections
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="11-qmri.html">
     Appendix XI: Quantitative MRI
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12-arterial-spin-labeling.html">
     Appendix XI: Arterial Spin Labeling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="13-cross-modality-correspondence.html">
     Appendix XIII: Cross modality correspondence
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="14-glossary.html">
     Appendix XIV: Glossary of schema objects
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../CHANGES.html">
   Changelog
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The BIDS Starter Kit
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference external" href="https://bids-standard.github.io/bids-starter-kit">
   Website
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://bids-standard.github.io/bids-starter-kit/tutorials/tutorials.html">
   Tutorials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference external" href="https://github.com/bids-standard/bids-starter-kit">
   GitHub repository
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/src/99-appendices/03-hed.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/bids-standard/bids-specification-ignore"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/bids-standard/bids-specification-ignore/issues/new?title=Issue%20on%20page%20%2Fsrc/99-appendices/03-hed.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hed-annotations-and-vocabulary">
   HED annotations and vocabulary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#annotating-events">
   Annotating events
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#annotation-using-the-hed-column">
   Annotation using the
   <code class="docutils literal notranslate">
    <span class="pre">
     HED
    </span>
   </code>
   column
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hed-and-the-bids-inheritance-principle">
   HED and the BIDS inheritance principle
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hed-schema-versions">
   HED schema versions
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Appendix III: Hierarchical Event Descriptors</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hed-annotations-and-vocabulary">
   HED annotations and vocabulary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#annotating-events">
   Annotating events
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#annotation-using-the-hed-column">
   Annotation using the
   <code class="docutils literal notranslate">
    <span class="pre">
     HED
    </span>
   </code>
   column
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hed-and-the-bids-inheritance-principle">
   HED and the BIDS inheritance principle
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hed-schema-versions">
   HED schema versions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="appendix-iii-hierarchical-event-descriptors">
<h1>Appendix III: Hierarchical Event Descriptors<a class="headerlink" href="#appendix-iii-hierarchical-event-descriptors" title="Permalink to this headline">¶</a></h1>
<p>Hierarchical Event Descriptors (HED) are a controlled vocabulary of terms describing
events in a machine-actionable form so that algorithms can use the information without
manual recoding.
HED annotation can be used to describe any experimental events by combining
information from the dataset’s <code class="docutils literal notranslate"><span class="pre">_events.tsv</span></code> files and <code class="docutils literal notranslate"><span class="pre">_events.json</span></code> sidecars.</p>
<div class="section" id="hed-annotations-and-vocabulary">
<h2>HED annotations and vocabulary<a class="headerlink" href="#hed-annotations-and-vocabulary" title="Permalink to this headline">¶</a></h2>
<p>A HED annotation consists of terms selected from a controlled
hierarchical vocabulary (the HED schema).
Individual terms are comma-separated and may be grouped using parentheses to indicate
association.
See <a class="reference external" href="https://www.hedtags.org/display_hed.html">https://www.hedtags.org/display_hed.html</a>
to view the HED schema and the
<a class="reference external" href="https://hed-specification.readthedocs.io/en/latest/index.html">HED documentation</a>
for additional resources.</p>
<p>Starting with HED version 8.0.0, HED allows users to annotate using individual
terms or partial paths in the HED vocabulary (for example <code class="docutils literal notranslate"><span class="pre">Red</span></code> or <code class="docutils literal notranslate"><span class="pre">Visual-presentation</span></code>)
rather than the full paths in the HED hierarchy (
<code class="docutils literal notranslate"><span class="pre">Property/Sensory-property/Sensory-attribute/Visual-attribute/Color/CSS-color/Red-color/Red</span></code>
or
<code class="docutils literal notranslate"><span class="pre">Property/Sensory-property/Sensory-presentation/Visual-presentation</span></code>).</p>
<p>HED specific tools MUST treat the short and long HED tag forms interchangeably,
converting between the forms when necessary, based on the HED schema.
Examples of test datasets using the various forms can be found in
<a class="reference external" href="https://github.com/hed-standard/hed-examples/tree/main/datasets">hed-examples/datasets</a>
on GitHub.
<strong>Using the short form for tags is strongly RECOMMENDED whenever possible</strong>.</p>
</div>
<div class="section" id="annotating-events">
<h2>Annotating events<a class="headerlink" href="#annotating-events" title="Permalink to this headline">¶</a></h2>
<p>Event-related data in BIDS appears in tab-separated value (<code class="docutils literal notranslate"><span class="pre">events.tsv</span></code>)
files in various places in the dataset hierarchy
(see <a class="reference internal" href="../04-modality-specific-files/05-task-events.html"><span class="doc std std-doc">Events</span></a>).</p>
<p><code class="docutils literal notranslate"><span class="pre">events.tsv</span></code> files MUST have <code class="docutils literal notranslate"><span class="pre">onset</span></code> and <code class="docutils literal notranslate"><span class="pre">duration</span></code> columns.
Dataset curators MAY also include additional columns and define their
meanings in associated JSON sidecar files (<code class="docutils literal notranslate"><span class="pre">events.json</span></code>).</p>
<p>Example: An excerpt from an <code class="docutils literal notranslate"><span class="pre">events.tsv</span></code> file containing three columns
(<code class="docutils literal notranslate"><span class="pre">trial_type</span></code>, <code class="docutils literal notranslate"><span class="pre">response_time</span></code>, and <code class="docutils literal notranslate"><span class="pre">stim_file</span></code>) in addition to
the required <code class="docutils literal notranslate"><span class="pre">onset</span></code> and <code class="docutils literal notranslate"><span class="pre">duration</span></code> columns.</p>
<div class="highlight-Text notranslate"><div class="highlight"><pre><span></span>onset  duration  trial_type  response_time stim_file
1.2    0.6       go          1.435         images/red_square.jpg
5.6    0.6       stop        1.739         images/blue_square.jpg
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">trial_type</span></code> column in the above example contains a limited number of distinct
values (<code class="docutils literal notranslate"><span class="pre">go</span></code> and <code class="docutils literal notranslate"><span class="pre">stop</span></code>).
This type of column is referred to as a <em>categorical</em> column,
and the column’s meaning can be annotated by assigning HED tags to describe
each of these distinct values.
The JSON sidecar provides a <a class="reference external" href="https://www.json.org/json-en.html">JSON object</a> of annotations for these categorical values.
That is, the object is a dictionary mapping the categorical values to corresponding HED annotations.</p>
<p>In contrast, the <code class="docutils literal notranslate"><span class="pre">response_time</span></code> and <code class="docutils literal notranslate"><span class="pre">stim_file</span></code> columns could potentially contain
distinct values in every row.
These columns are referred to as <em>value</em> columns and are annotated by creating
a HED tag string to describe a general pattern for these values.
The HED annotation for a value column must include a <code class="docutils literal notranslate"><span class="pre">#</span></code> placeholder,
which dedicated HED tools MUST replace by the actual column value when the annotations
are assembled for analysis.</p>
<p>Example: An accompanying <code class="docutils literal notranslate"><span class="pre">events.json</span></code> sidecar describing both categorical and
value columns of the previous example.
The <code class="docutils literal notranslate"><span class="pre">duration</span></code> column is also annotated as a value column.</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;Duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;LongName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Image duration&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Duration of the image presentations&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;Units&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;HED&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Duration/# s&quot;</span><span class="w"></span>
<span class="w">  </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;trial_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;LongName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event category&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Indicator of type of action that is expected&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;Levels&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;go&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A red square is displayed to indicate starting&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;stop&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A blue square is displayed to indicate stopping&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;HED&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;go&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sensory-event, Visual-presentation, ((Square, Blue),(Computer-screen, Center-of))&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="nt">&quot;stop&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sensory-event, Visual-presentation, ((Square, Blue), (Computer-screen, Center-of))&quot;</span><span class="w"></span>
<span class="w">       </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="p">},</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;response_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;LongName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Response time after stimulus&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Time from stimulus presentation until subject presses button&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;Units&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ms&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;HED&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;(Delay/# ms, Agent-action, (Experiment-participant, (Press, Mouse-button))),&quot;</span><span class="w"></span>
<span class="w">   </span><span class="p">},</span><span class="w"></span>
<span class="w">   </span><span class="nt">&quot;stim_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;LongName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stimulus filename&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;Description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Relative path of the stimulus image file&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="nt">&quot;HED&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Pathname/#&quot;</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Dedicated HED tools MUST assemble an annotation for each event by concatenating the
annotations for each column.</p>
<p>Example: The fully assembled annotation for the first event in the above
<code class="docutils literal notranslate"><span class="pre">events.tsv</span></code> file with onset <code class="docutils literal notranslate"><span class="pre">1.2</span></code> (the first row) is:</p>
<div class="highlight-Text notranslate"><div class="highlight"><pre><span></span>Duration/0.6 s, Sensory-event, Visual-presentation,
((Square, Blue), (Computer-screen, Center-of)),
(Delay/1.435 ms, Agent-action,
(Experiment-participant, (Press, Mouse-button))),
Pathname/images/red_square.jpg
</pre></div>
</div>
</div>
<div class="section" id="annotation-using-the-hed-column">
<h2>Annotation using the <code class="docutils literal notranslate"><span class="pre">HED</span></code> column<a class="headerlink" href="#annotation-using-the-hed-column" title="Permalink to this headline">¶</a></h2>
<p>Another tagging strategy is to annotate individual events directly by
including a <code class="docutils literal notranslate"><span class="pre">HED</span></code> column in the <code class="docutils literal notranslate"><span class="pre">events.tsv</span></code> file.
This approach is necessary when each event has annotations that are unique
and do not fit into a standard set of patterns.</p>
<p>Some acquisition or presentation software systems directly
write annotations during the experiment, and these MAY also be placed in the
<code class="docutils literal notranslate"><span class="pre">HED</span></code> column of the <code class="docutils literal notranslate"><span class="pre">events.tsv</span></code> file.</p>
<p>Dedicated HED tools that assemble the full annotation for events treat MUST not distinguish
between HED annotations extracted from <code class="docutils literal notranslate"><span class="pre">_events.json</span></code> sidecars and those
appearing in the <code class="docutils literal notranslate"><span class="pre">HED</span></code> column of <code class="docutils literal notranslate"><span class="pre">_events.tsv</span></code> files.
The HED strings from all sources are concatenated to form the final
event annotations.</p>
<p>Annotations placed in sidecars are the RECOMMENDED way
to annotate data using HED.
These annnotations are preferred to those placed
directly in the <code class="docutils literal notranslate"><span class="pre">HED</span></code> column, because they are simpler, more compact,
more easily edited, and less prone to inconsistencies.</p>
</div>
<div class="section" id="hed-and-the-bids-inheritance-principle">
<h2>HED and the BIDS inheritance principle<a class="headerlink" href="#hed-and-the-bids-inheritance-principle" title="Permalink to this headline">¶</a></h2>
<p>Most studies have event files whose columns contain categorical and
numerical values that are similar across the recordings in the study.
If possible, users should annotate these columns in a single
<code class="docutils literal notranslate"><span class="pre">events.json</span></code> sidecar placed at the top level in the dataset.</p>
<p>If some recordings in the dataset have a column whose values deviate from a
standard pattern, then the annotations for that column MUST be placed in
sidecars located deeper in the dataset directory hierarchy.
According to the BIDS <a class="reference external" href="../02-common-principles.md#the-inheritance-principle">Inheritance Principle</a>,
once a column key in a sidecar (that is, the column name found in the <code class="docutils literal notranslate"><span class="pre">events.tsv</span></code> files) is set,
information about that column cannot be overridden by a sidecar appearing in a directory
closer to the dataset root.</p>
</div>
<div class="section" id="hed-schema-versions">
<h2>HED schema versions<a class="headerlink" href="#hed-schema-versions" title="Permalink to this headline">¶</a></h2>
<p>The HED vocabulary is specified by a HED schema,
which delineates the allowed HED path strings.
The version of HED used in tagging a dataset should be provided in the <code class="docutils literal notranslate"><span class="pre">HEDVersion</span></code>
field of the <code class="docutils literal notranslate"><span class="pre">dataset_description.json</span></code> file located in the dataset root directory.
This allows for a proper validation of the HED annotations
(for example using the <code class="docutils literal notranslate"><span class="pre">bids-validator</span></code>).</p>
<p>Example: The following <code class="docutils literal notranslate"><span class="pre">dataset_description.json</span></code> file specifies that the
<a class="reference external" href="https://github.com/hed-standard/hed-specification/tree/master/hedxml/HED8.0.0.xml"><code class="docutils literal notranslate"><span class="pre">HED8.0.0.xml</span></code></a>
file from the <code class="docutils literal notranslate"><span class="pre">hedxml</span></code> directory of the
<a class="reference external" href="https://github.com/hed-standard/hed-specification"><code class="docutils literal notranslate"><span class="pre">hed-specification</span></code></a>
repository on GitHub should be used to validate the study event annotations.</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;Name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A great experiment&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;BIDSVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.6.0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;HEDVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8.0.0&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>If you omit the <code class="docutils literal notranslate"><span class="pre">HEDVersion</span></code> field from the dataset description file,
any present HED information will be validated using the latest version of the HED schema,
which is bound to result in problems.
Hence, it is strongly RECOMMENDED that the <code class="docutils literal notranslate"><span class="pre">HEDVersion</span></code> field be included when using HED
in a BIDS dataset.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./src/99-appendices"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="02-licenses.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Appendix II: Licenses</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="04-entity-table.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Appendix IV: Entity table</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By The BIDS Community<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>